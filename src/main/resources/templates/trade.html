<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Trade Stocks</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
    <h1>Stock Price Checker</h1>

    <!-- Input field -->
    <input type="text" id="stockSymbol" placeholder="Enter stock symbol (e.g. INFY)">
    <button onclick="getPrice()">Get Price</button>

    <!-- Result area -->
    <p id="result"></p>

    <script>
        async function getPrice() {
            const symbol = document.getElementById("stockSymbol").value;
            if (!symbol) {
                alert("Please enter a stock symbol");
                return;
            }
            try {
                const response = await fetch(`/trademo/api/trades/price/${symbol}`);
                if (!response.ok) {
                    throw new Error("Stock not found");
                }
                const price = await response.text();
                document.getElementById("result").innerText = "Price of " + symbol + ": â‚¹" + price;
            } catch (error) {
                document.getElementById("result").innerText = "Error: " + error.message;
            }
        }
    </script>
</body>
</html>
